(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{803:function(e,t){e.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(975),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api="undefined"!=typeof window&&window.ymaps?window.ymaps:null}return r(e,[{key:"setAPI",value:function(e){return this.api=e,this.api}},{key:"getAPI",value:function(){return this.api}},{key:"isAvailible",value:function(){return Boolean(this.api)}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)(t).then(function(t){return e.api=t,t})}}]),e}();t.default=new u},808:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",function(){return o})},822:function(e,t,n){var o=n(823),r=n(803),i=0,a=4,u=36,s=Math.pow(u,a);function l(){return r((Math.random()*s<<0).toString(u),a)}function c(){return i=i<s?i:0,++i-1}function f(){return"c"+(new Date).getTime().toString(u)+r(c().toString(u),a)+o()+(l()+l())}f.slug=function(){var e=(new Date).getTime().toString(36),t=c().toString(36).slice(-4),n=o().slice(0,1)+o().slice(-1),r=l().slice(-2);return e.slice(-2)+t+n+r},f.isCuid=function(e){return"string"===typeof e&&!!e.startsWith("c")},f.isSlug=function(e){if("string"!==typeof e)return!1;var t=e.length;return t>=7&&t<=10},f.fingerprint=o,e.exports=f},823:function(e,t,n){var o=n(803),r="object"===typeof window?window:self,i=Object.keys(r).length,a=o(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+i.toString(36),4);e.exports=function(){return a}},888:function(e,t,n){var o=n(889),r=n(792),i=n(890),a=n(892),u=n(887),s=1440,l=2520,c=43200,f=86400;e.exports=function(e,t,n){var p=n||{},h=o(e,t),d=p.locale,y=u.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(y=d.distanceInWords.localize);var v,b,_={addSuffix:Boolean(p.addSuffix),comparison:h};h>0?(v=r(e),b=r(t)):(v=r(t),b=r(e));var m,g=i(b,v),O=b.getTimezoneOffset()-v.getTimezoneOffset(),w=Math.round(g/60)-O;if(w<2)return p.includeSeconds?g<5?y("lessThanXSeconds",5,_):g<10?y("lessThanXSeconds",10,_):g<20?y("lessThanXSeconds",20,_):g<40?y("halfAMinute",null,_):y(g<60?"lessThanXMinutes":"xMinutes",1,_):0===w?y("lessThanXMinutes",1,_):y("xMinutes",w,_);if(w<45)return y("xMinutes",w,_);if(w<90)return y("aboutXHours",1,_);if(w<s)return y("aboutXHours",Math.round(w/60),_);if(w<l)return y("xDays",1,_);if(w<c)return y("xDays",Math.round(w/s),_);if(w<f)return y("aboutXMonths",m=Math.round(w/c),_);if((m=a(b,v))<12)return y("xMonths",Math.round(w/c),_);var k=m%12,P=Math.floor(m/12);return k<3?y("aboutXYears",P,_):k<9?y("overXYears",P,_):y("almostXYears",P+1,_)}},889:function(e,t,n){var o=n(792);e.exports=function(e,t){var n=o(e).getTime(),r=o(t).getTime();return n>r?-1:n<r?1:0}},890:function(e,t,n){var o=n(891);e.exports=function(e,t){var n=o(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},891:function(e,t,n){var o=n(792);e.exports=function(e,t){var n=o(e),r=o(t);return n.getTime()-r.getTime()}},892:function(e,t,n){var o=n(792),r=n(893),i=n(805);e.exports=function(e,t){var n=o(e),a=o(t),u=i(n,a),s=Math.abs(r(n,a));return n.setMonth(n.getMonth()-u*s),u*(s-(i(n,a)===-u))}},893:function(e,t,n){var o=n(792);e.exports=function(e,t){var n=o(e),r=o(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}},895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventsDecorator=function(e,t){var n=t.supportEvents;return Object.defineProperty(e.prototype,"_setupEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){(0,o.register)(this.getController(),this.props,n)}}),e};var o=n(977)},909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.apiConfig={host:"api-maps.yandex.ru",version:"2.1"}},910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"]},911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(a(n(3)),n(0)),i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){return i.default.createElement("div",null,this.props.children)}}]),t}();t.default=u},912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(3)),i=n(0),a=u(i);n(979);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillUnmount",value:function(){this._marker&&this._marker.destroy()}},{key:"render",value:function(){return a.default.createElement("div",null,this.props.children)}}]),t}();s.propTypes={marker:r.default.object},t.default=s},971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Panorama=t.ConstructorJSONImport=t.BalloonLayout=t.MarkerLayout=t.Marker=t.Map=void 0;var o=l(n(972)),r=l(n(978)),i=l(n(912)),a=l(n(911)),u=l(n(983)),s=l(n(985));function l(e){return e&&e.__esModule?e:{default:e}}t.Map=o.default,t.Marker=r.default,t.MarkerLayout=i.default,t.BalloonLayout=a.default,t.ConstructorJSONImport=u.default,t.Panorama=s.default},972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=d(n(3)),a=n(0),u=d(a),s=d(n(84)),l=d(n(973)),c=d(n(974)),f=d(n(910)),p=n(895),h=(d(n(909)),d(n(807)));function d(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isAPILoaded:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getChildContext",value:function(){return{mapController:this._controller,coordorder:this.props.loadOptions.coordorder||"latlong"}}},{key:"getController",value:function(){return this._controller?this._controller:null}},{key:"componentWillReceiveProps",value:function(e){var t=this;this._controller&&Object.keys(e).forEach(function(n){switch(n){case"controls":t._controller.setState(n,e[n]);break;case"center":t.props.center[0]===e.center[0]&&t.props.center[1]===e.center[1]||t._controller.setCenter(e.center);break;case"zoom":t.props.zoom!==e.zoom&&t._controller.setZoom(e.zoom);break;case"bounds":t.props.bounds!==e.bounds&&t._controller.setBounds(e.bounds)}})}},{key:"componentDidMount",value:function(){h.default.isAvailible()?this._onAPILoad(h.default.getAPI()):h.default.load(this.props.loadOptions).then(this._onAPILoad.bind(this)).catch(function(e){return console.log("Error occured: %s",e)})}},{key:"render",value:function(){return u.default.createElement("div",{style:this._getStyle()},u.default.createElement(l.default,{ref:"mapContainer"}),Boolean(this.state.isAPILoaded)?this.props.children:null)}},{key:"_getStyle",value:function(){return o({},this.props.style,{width:"string"==typeof this.props.width?this.props.width:this.props.width+"px",height:"string"==typeof this.props.height?this.props.height:this.props.height+"px"})}},{key:"_onAPILoad",value:function(e){this.props.onAPIAvailable&&this.props.onAPIAvailable(e),this._controller=new c.default,this._controller.createMap(s.default.findDOMNode(this.refs.mapContainer),o({},this.props.state,{center:this.props.center,zoom:this.props.zoom,bounds:this.props.bounds}),o({},this.props.options)),this._setupEvents(),this.setState({isAPILoaded:!0}),this.props.onMapAvailable&&this.props.onMapAvailable(this._controller.map)}}]),t}();y.propTypes={apiKey:i.default.string,onAPIAvailable:i.default.func,width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),zoom:i.default.number,state:i.default.object,options:i.default.object,loadOptions:i.default.object,bounds:i.default.array},y.defaultProps={zoom:10,center:[55,45],width:600,height:600,bounds:void 0,state:{controls:[]},options:{},loadOptions:{},style:{position:"relative"}},y.childContextTypes={mapController:i.default.object,coordorder:i.default.oneOf(["latlong","longlat"])},t.default=(0,p.eventsDecorator)(y,{supportEvents:f.default})},973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var u={position:"absolute",width:"100%",height:"100%",margin:0,padding:0},s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return a.default.createElement("div",{style:u})}}]),t}();t.default=s},974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(807),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"createMap",value:function(e,t,n){return this._map=new(a.default.getAPI().Map)(e,t,n),this.events=this._map.events.group(),this._setupCollection(),this}},{key:"appendMarker",value:function(e){this._geoCollection.add(e.getAPIInstance()),e.setBalloonState(e.balloonState)}},{key:"setOptions",value:function(e,t){this._map.options.set(e,t)}},{key:"setCenter",value:function(e){this._map.setCenter(e)}},{key:"setZoom",value:function(e){this._map.setZoom(e)}},{key:"setBounds",value:function(e){this._map.setBounds(e)}},{key:"setState",value:function(e,t){this._map.state.set(e,t)}},{key:"destroy",value:function(){this.events.removeAll(),this._map.destroy()}},{key:"_setupCollection",value:function(){this._geoCollection=new(a.default.getAPI().GeoObjectCollection),this._map.geoObjects.add(this._geoCollection)}},{key:"map",get:function(){return this._map}}]),e}();t.default=u},975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(u)return u;return u=new Promise(function(t,n){window[l]=function(e){t(e),window[l]=null},window[c]=function(e){n(e),window[c]=null},(0,i.default)(function(e){var t=Object.assign({},f);Object.keys(e).filter(function(e){return-1!==s.indexOf(e)}).forEach(function(n){t[n]=e[n]});var n=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&");return"https://"+a.apiConfig.host+"/"+(e.version||a.apiConfig.version)+"/?"+n}(e))})};var o,r=n(976),i=(o=r)&&o.__esModule?o:{default:o},a=n(909);var u=void 0,s=["lang","apikey","coordorder","load","mode"],l="_$_api_success",c="_$_api_error",f={lang:"ru_RU",coordorder:"latlong",load:"package.full",mode:"release",ns:"",onload:l,onerror:c}},976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var o=document.createElement("script");o.onload=t,o.onerror=n,o.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)})}},977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e,t,n){n.forEach(function(n){var o,r="on"+(o=n).substr(0,1).toUpperCase()+o.substr(1);t.hasOwnProperty(r)&&e.events.add(n,t[r])})}},978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=h(n(3)),i=n(0),a=h(i),u=h(n(84)),s=h(n(911)),l=h(n(912)),c=h(n(980)),f=h(n(982)),p=n(895);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.options={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,o=n.lat,r=n.lon,i=n.children,a=n.properties,u=n.options,s=n.balloonState;o===e.lat&&r===e.lon||this._controller.setPosition("longlat"===this.context.coordorder?[r,o]:[o,r]),Object.keys(a||{}).forEach(function(n){e.properties&&a[n]===e.properties[n]||t._controller.setProperty(n,a[n])}),Object.keys(u||{}).forEach(function(n){e.options&&u[n]===e.options[n]||t._controller.setOption(n,u[n])}),this._controller.setBalloonState(s),i!=e.children&&(this._clearLayouts(),this._setupLayouts())}},{key:"componentDidMount",value:function(){var e=this.props,t=e.lat,n=e.lon,o=e.properties,r=e.options,i=e.balloonState,a="longlat"===this.context.coordorder?[n,t]:[t,n];this._controller=new c.default(a,o,r,i),this._setupLayouts(),this._setupEvents(),this.context.mapController.appendMarker(this._controller)}},{key:"componentWillUnmount",value:function(){this._clearLayouts(),this._controller.destroy()}},{key:"getController",value:function(){return this._controller?this._controller:null}},{key:"_setupLayouts",value:function(){var e=this;a.default.Children.toArray(this.props.children).forEach(function(t){t.type===s.default&&e._setupBalloonLayout(t),t.type===l.default&&e._setupMarkerLayout(t)})}},{key:"_setupMarkerLayout",value:function(e){this._markerElement=document.createElement("div"),this._markerElement.className="icon-content",this._markerElement.style.display="inline-block",u.default.render(e,this._markerElement),this._controller.setLayout("iconLayout",this._markerElement)}},{key:"_setupBalloonLayout",value:function(e){this._balloonElement=document.createElement("div"),u.default.render(e,this._balloonElement),this._controller.setLayout("balloonLayout",this._balloonElement)}},{key:"_clearLayouts",value:function(){this._markerElement&&(u.default.unmountComponentAtNode(this._markerElement),this._markerElement=null),this._balloonElement&&(u.default.unmountComponentAtNode(this._balloonElement),this._balloonElement=null)}},{key:"render",value:function(){return null}}]),t}();d.propTypes={lat:r.default.number.isRequired,lon:r.default.number.isRequired,properties:r.default.object,options:r.default.object,balloonState:r.default.oneOf(["opened","closed"])},d.defaultProps={balloonState:"closed"},d.contextTypes={mapController:r.default.object,coordorder:r.default.oneOf(["latlong","longlat"])},t.default=(0,p.eventsDecorator)(d,{supportEvents:f.default})},979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.types={MARKER_LAYOUT:1}},980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(807)),i=a(n(981));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=o,this.properties=n,this.balloonState=i,this._coordinates=t,this._marker=new(r.default.getAPI().Placemark)(t,null,null),this._setupMarkerProperties(),this._setupMarkerOptions(),this.events=this._marker.events.group()}return o(e,[{key:"getAPIInstance",value:function(){return this._marker}},{key:"getCoordinates",value:function(){return this._coordinates}},{key:"setPosition",value:function(e){this._marker.geometry.setCoordinates(e)}},{key:"setProperty",value:function(e,t){this._marker.properties.set(e,t)}},{key:"setOption",value:function(e,t){this._marker.options.set(e,t)}},{key:"setBalloonState",value:function(e){"opened"===e?this._marker.balloon.isOpen()||this._marker.balloon.open():this._marker.balloon.isOpen()&&this._marker.balloon.close()}},{key:"setLayout",value:function(e,t){var n=void 0;"iconLayout"===e?n=i.default.createIconLayoutClass(t):"balloonLayout"===e&&(n=i.default.createBalloonLayoutClass(t)),this._marker.options.set(e,n)}},{key:"destroy",value:function(){this.events.removeAll(),this._marker.setParent(null),this._marker=null}},{key:"_setupMarkerProperties",value:function(){var e=this,t=this.properties;Object.keys(t).forEach(function(n){e.setProperty(n,t[n])})}},{key:"_setupMarkerOptions",value:function(){var e=this,t=this.options;Object.keys(t).forEach(function(n){e.setOption(n,t[n])})}}]),e}();t.default=u},981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(807),i=(o=r)&&o.__esModule?o:{default:o};function a(e){var t=e.domElement,n=e.extendMethods,o=void 0===n?{}:n,r=i.default.getAPI().templateLayoutFactory.createClass("<i></i>",Object.assign({build:function(){r.superclass.build.call(this),this.options=this.getData().options,this._setupContent(t),this._updateSize(),function(e){var t=Array.from(e.querySelectorAll("img")||[]);return 0===t.length?Promise.resolve():Promise.all(t.map(function(e){return new Promise(function(t){e.complete?t():e.onload=e.onerror=t})}))}(this.getElement()).then(this._updateMarkerShape.bind(this))},getShape:function(){return new(i.default.getAPI().shape.Rectangle)(new(i.default.getAPI().geometry.pixel.Rectangle)([[0,0],[this._size[0],this._size[1]]]))},_updateMarkerShape:function(){this._updateSize(),this.events.fire("shapechange")},_setupContent:function(e){this.getElement().appendChild(e)},_updateSize:function(){this._size=this._getSize()},_getSize:function(){var e=[];if(this.getElement()){var t=this.getElement().querySelector(".icon-content");t&&(e=[t.offsetWidth,t.offsetHeight])}return e}},o));return r}t.default={createIconLayoutClass:function(e){return a({domElement:e,extendMethods:{_updateSize:function(){var e=this,t=void 0,n=this._size;this._size=this._getSize(),this._size.length&&(n&&n[0]===this._size[0]&&n[1]===this._size[1]||((t=this.getData().geoObject).getOverlaySync()?t.options.set("iconOffset",[-this._size[0]/2,-this._size[1]]):t.getOverlay().then(function(){t.options.set("iconOffset",[-e._size[0]/2,-e._size[1]])})))}}})},createBalloonLayoutClass:function(e){return a({domElement:e})}}},982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel","drag","dragend","dragstart","editorstatechange"]},983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(3)),i=n(0),a=(u(i),u(n(984)));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.context.mapController.map;this._controller=new a.default(e,this.props.userMapData)}},{key:"componentWillUnmount",value:function(){this._controller.destroy()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return null}}]),t}();s.propTypes={userMapData:r.default.object.isRequired},s.contextTypes={mapController:r.default.object},t.default=s},984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(807),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._map=t,this._data=n,this._setupPresets(),this._setupGeoObjects()}return i(e,[{key:"destroy",value:function(){this._clearPresets(),this._geoObject.removeFromMap(this._map),this._geoObject=null,this._map=null}},{key:"_setupGeoObjects",value:function(){var e=this._data.geoObjects,t=u.default.getAPI();e&&(this._geoObject=t.geoQuery(this._prepare(e)).addToMap(this._map))}},{key:"_prepare",value:function(e){var t=r({},e);return t.features.forEach(function(e){var t=e.properties;if(!t)return e;t.name&&(t.balloonContentHeader=t.name),t.description&&(t.balloonContentBody=t.description)}),t}},{key:"_setupPresets",value:function(){var e=this._data.presetStorage,t=u.default.getAPI();e&&(this._presetKeys=Object.keys(e),this._presetKeys.forEach(function(n){t.option.presetStorage.add(n,e[n])}))}},{key:"_clearPresets",value:function(){var e=u.default.getAPI();this._presetKeys.forEach(function(t){e.option.presetStorage.remove(t)})}}]),e}();t.default=s},985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=d(n(3)),a=n(0),u=d(a),s=d(n(84)),l=d(n(986)),c=d(n(987)),f=d(n(910)),p=n(895),h=d(n(807));function d(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isPanoramas=function(e){n.setState({isPanoramas:e})},n.state={isAPILoaded:!1,showService:!1,isPanoramas:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getChildContext",value:function(){return{mapController:this._controller,coordorder:this.props.loadOptions.coordorder||"latlong"}}},{key:"getController",value:function(){return this._controller?this._controller:null}},{key:"componentWillReceiveProps",value:function(e){var t=this;this._controller&&Object.keys(e).forEach(function(n){switch(n){case"showService":t.state.showService!==e.showService&&t.setState({showService:e.showService},function(){return t.state.showService&&t.init()})}})}},{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){h.default.isAvailible()?this._onAPILoad(h.default.getAPI()):h.default.load(this.props.loadOptions).then(this._onAPILoad.bind(this)).catch(function(e){return console.log("Error occured: %s",e)})}},{key:"render",value:function(){var e={};return this.state.showService&&(e=this._getStyle()),u.default.createElement("div",null,u.default.createElement("div",{style:e},u.default.createElement(l.default,{ref:"panoramaPlayer",show:this.state.showService})),!this.state.showService&&this.state.isPanoramas&&this.props.children)}},{key:"_getStyle",value:function(){return o({},this.props.style,{width:"string"==typeof this.props.width?this.props.width:this.props.width+"px",height:"string"==typeof this.props.height?this.props.height:this.props.height+"px"})}},{key:"_onAPILoad",value:function(e){var t=this;this.props.onAPIAvailable&&this.props.onAPIAvailable(e),this._controller=new c.default(this.isPanoramas),this._controller.createPanorama(s.default.findDOMNode(this.refs.panoramaPlayer),o({},this.props.state,{center:this.props.center,zoom:this.props.zoom,bounds:this.props.bounds}),o({},this.props.options)),this.setState({isAPILoaded:!0},function(){return t._controller.locate(t.state.showService)})}}]),t}();y.propTypes={apiKey:i.default.string,onAPIAvailable:i.default.func,width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),zoom:i.default.number,state:i.default.object,options:i.default.object,loadOptions:i.default.object,bounds:i.default.array},y.defaultProps={zoom:10,center:[55,45],width:600,height:600,bounds:void 0,state:{controls:[]},options:{},loadOptions:{},style:{position:"relative"}},y.childContextTypes={mapController:i.default.object,coordorder:i.default.oneOf(["latlong","longlat"])},t.default=(0,p.eventsDecorator)(y,{supportEvents:f.default})},986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var u={position:"absolute",width:"100%",height:"100%",margin:0,padding:0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return this.props.show?a.default.createElement("div",{style:u}," "):null}}]),t}();t.default=s},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(807),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isPanoramas=t}return r(e,[{key:"createPanorama",value:function(e,t,n){return this._container=e,this._coordinates=t.center,this._options=n,this._panorama=a.default.getAPI().panorama,this}},{key:"locate",value:function(e){var t=this;this.isSupported()?this._panorama.locate(this._coordinates).done(function(n){t._isPanoramas(Boolean(n.length)),e&&t.show(n)},function(e){return t.error(e)}):this.error({message:"\u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043b\u0435\u0435\u0440\u043e\u043c."})}},{key:"show",value:function(e){e.length>0&&new this._panorama.Player(this._container,e[0],this._options).events.add("destroy",this.destroy.bind(this))}},{key:"error",value:function(e){console.error(e.message)}},{key:"isSupported",value:function(){return this._panorama.isSupported()}},{key:"destroy",value:function(){this._panorama=null,this._options.parentFunct&&this._options.parentFunct()}}]),e}();t.default=u}}]);
//# sourceMappingURL=16.f8ed6e5d.chunk.js.map